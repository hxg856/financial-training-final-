<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>删除报告</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/layout.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/verify.js"></script>
    <script src="js/function.js"></script>
    <script src="js/ajax.js"></script>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>删除报告</h1>
        </div>
        <div class="bodepart">
            <div class="form-horizontal">
                <div class="form-group">
                    <label for="deleteReport" class="col-sm-4 col-md-4 col-lg-4 control-label">请输入报告ID</label>
                    <div class="col-sm-8 col-md-4 col-lg-4">
                        <input type="text" class="form-control" id="deleteReport" placeholder="请输入13位报告ID">
                    </div>
                </div>
                <div class="divCenter">
                    <button id="delete" class="btn btn-default">删除</button>
                    <button class="btn btn-default" id="returnHome" style="display:inline-block">返回</button>
                </div>
            </div>
        </div>
        <script src="js/verify.js"></script>
        <script>
            $(function() {
                $.get("nav.html", function(data) {
                    $(".container").before(data);
                });
                $("#delete").click(function() {
                    var reportID = $("#deleteReport");
                    if (!reportID.val()) {
                        if (!reportID.next().hasClass("bg-danger")) {
                            var $alertInfo = $("<div class='bg-danger'>报告ID不能为空，请重新输入</div>");
                            reportID.after($alertInfo);
                            return false;
                        } else {
                            return false;
                        }
                    }
                    if (!testReportID(reportID.val())) {
                        if (!reportID.next().hasClass("bg-danger")) {
                            var $alertInfo = $("<div class='bg-danger'>请按照正确格式的报告ID</div>");
                            reportID.after($alertInfo);
                            return false;
                        } else {
                            return false;
                        }
                    }
                    var data = {
                        reportID: reportID.val()
                    };
                    delete_report(data);
                })
            })

        </script>
    </div>
</body>

</html>
